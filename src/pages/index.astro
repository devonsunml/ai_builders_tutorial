---
import TutorialLayout from '../layouts/TutorialLayout.astro';
import { extractMarkdownHeadings } from '../utils/notebook';
import { scanTutorialsDirectory, findTutorialFile } from '../utils/fileSystem';

// Load the tutorial overview content directly
const sections = scanTutorialsDirectory();
const tutorialFile = findTutorialFile(sections, 'Overview/tutorial_overview');

if (!tutorialFile) {
  return new Response('Tutorial overview not found', { status: 404 });
}

// Extract headings for table of contents
const headings = tutorialFile.type === 'markdown' 
  ? extractMarkdownHeadings(tutorialFile.content || '')
  : [];

const title = tutorialFile.metadata?.title || 'AI Builders Tutorial Overview';
---

<TutorialLayout 
  title={title}
  sections={sections}
  headings={headings}
  tutorialFile={tutorialFile}
/>
